<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Help Lawanda Get to Tanzania - Mission Trip Fundraiser</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' https://script.google.com; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    
    <style>
        :root {
            --primary: #8e44ad;
            --primary-dark: #7d3c98;
            --secondary: #f39c12;
            --secondary-dark: #e67e22;
            --accent: #3498db;
            --accent-dark: #2980b9;
            --success: #27ae60;
            --success-dark: #219653;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --text: #333;
            --shadow: 0 10px 30px rgba(0,0,0,0.15);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            min-height: 100vh;
            color: var(--text);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }

        .header h1 {
            font-size: 2.8rem;
            color: var(--primary);
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }

        .header h2 {
            color: var(--secondary-dark);
            font-size: 1.6rem;
            margin-bottom: 25px;
            font-weight: 600;
        }

        .mission-info {
            background: var(--light);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            line-height: 1.8;
            position: relative;
            border-left: 4px solid var(--accent);
        }

        .mission-info h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .mission-info h3 i {
            color: var(--secondary);
        }

        .mission-info p {
            margin-bottom: 15px;
        }

        .mission-highlight {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid var(--accent);
            position: relative;
        }

        .mission-highlight::before {
            content: "üí°";
            position: absolute;
            left: -10px;
            top: -10px;
            background: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .admin-panel {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            position: relative;
        }

        .admin-toggle {
            background: var(--accent);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 20px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .admin-toggle:hover {
            background: var(--accent-dark);
            transform: translateY(-2px);
        }

        .admin-content {
            display: none;
            padding: 20px;
            background: var(--light);
            border-radius: 10px;
            margin-top: 15px;
        }

        .admin-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-group textarea, .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            min-height: 45px;
            transition: var(--transition);
            font-family: inherit;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-group input:focus, 
        .form-group textarea:focus {
            border-color: var(--accent);
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .fundraiser-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .fundraiser-card.completed {
            background: linear-gradient(135deg, var(--success), var(--success-dark));
            color: white;
        }

        .fundraiser-header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            padding-bottom: 20px;
        }

        .fundraiser-header::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            height: 3px;
            width: 100px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
        }

        .fundraiser-name {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 15px;
            color: var(--primary);
            cursor: pointer;
            transition: var(--transition);
        }

        .fundraiser-name:hover {
            transform: scale(1.02);
        }

        .fundraiser-bio {
            color: var(--text);
            font-size: 1.15rem;
            margin-bottom: 20px;
            line-height: 1.7;
            font-style: italic;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .progress-section {
            margin-bottom: 30px;
            background: var(--light);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #ecf0f1;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--success));
            transition: width 0.5s ease;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite linear;
        }

        .progress-text {
            text-align: center;
            font-weight: 700;
            font-size: 1.3rem;
            margin-bottom: 8px;
            color: var(--dark);
        }

        .progress-percentage {
            text-align: center;
            font-size: 1.1rem;
            color: var(--dark);
            font-weight: 500;
        }

        .number-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 10px;
            margin-bottom: 30px;
        }

        .number-button {
            aspect-ratio: 1;
            border: 2px solid var(--accent);
            background: white;
            color: var(--accent);
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .number-button:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .number-button.selected {
            background: var(--success);
            border-color: var(--success);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(39, 174, 96, 0.3);
        }

        .number-button.donated {
            background: #bdc3c7;
            border-color: #95a5a6;
            color: white;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .donation-summary {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: center;
            color: white;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .donation-summary h3 {
            font-size: 1.7rem;
            font-weight: 700;
            position: relative;
            z-index: 2;
        }

        .donation-summary::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="20" cy="20" r="5" fill="white" fill-opacity="0.1"/><circle cx="50" cy="50" r="7" fill="white" fill-opacity="0.1"/><circle cx="80" cy="80" r="5" fill="white" fill-opacity="0.1"/></svg>');
            background-size: 200px;
            opacity: 0.3;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .payment-btn {
            padding: 25px 15px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 700;
            transition: var(--transition);
            text-align: center;
            font-size: 1.2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
        }

        .payment-btn:hover {
            border-color: var(--accent);
            background: #f8f9fa;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }

        .payment-btn.selected {
            border-color: var(--success);
            background: var(--success);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(39, 174, 96, 0.3);
        }

        .donate-btn {
            width: 100%;
            padding: 22px;
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.4rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 6px 15px rgba(142, 68, 173, 0.4);
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .donate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(142, 68, 173, 0.5);
        }

        .donate-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .donate-btn::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(30deg);
            animation: shimmer 2s infinite;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 1000;
            overflow-y: auto;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.4s ease;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 550px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 32px;
            cursor: pointer;
            color: #999;
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-btn:hover {
            background: #f1f1f1;
            color: #e74c3c;
        }

        .success-message {
            background: linear-gradient(135deg, var(--success), var(--success-dark));
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
            text-align: center;
            font-weight: 600;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .status-indicator {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .auth-form {
            background: #fff3cd;
            border: 1px solid #ffeeba;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .admin-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .admin-btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .download-btn {
            background: linear-gradient(135deg, var(--accent), var(--accent-dark));
            color: white;
        }

        .reset-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .admin-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @media (max-width: 768px) {
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2.2rem;
            }
            
            .number-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .payment-methods {
                grid-template-columns: 1fr;
            }
            
            .admin-actions {
                grid-template-columns: 1fr;
            }
            
            .fundraiser-name {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .header {
                padding: 25px 15px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .header h2 {
                font-size: 1.3rem;
            }
            
            .fundraiser-card {
                padding: 20px;
            }
            
            .donate-btn {
                font-size: 1.2rem;
                padding: 18px;
            }
            
            .modal-content {
                padding: 25px 20px;
            }
        }

        .floating-element {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            z-index: -1;
        }

        .floating-1 {
            top: 10%;
            left: 5%;
            animation: float 8s infinite ease-in-out;
        }

        .floating-2 {
            top: 60%;
            right: 7%;
            animation: float 10s infinite ease-in-out;
            animation-delay: 1s;
        }

        .floating-3 {
            bottom: 15%;
            left: 15%;
            animation: float 12s infinite ease-in-out;
            animation-delay: 2s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); }
            25% { transform: translateY(-20px) translateX(10px); }
            50% { transform: translateY(10px) translateX(-15px); }
            75% { transform: translateY(-15px) translateX(-10px); }
        }
    </style>
</head>
<body>
    <div class="floating-element floating-1"></div>
    <div class="floating-element floating-2"></div>
    <div class="floating-element floating-3"></div>
    
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-globe-africa"></i> Help Lawanda Get to Tanzania</h1>
            <h2>Mission Trip to Arusha ‚Ä¢ November 20-30, 2024</h2>
            <div class="mission-info">
                <h3><i class="fas fa-bullseye"></i> Our Mission</h3>
                <p>We'll be ministering to over 107,000 children in Arusha, Tanzania and conducting projects at a local school (possibly painting classrooms, fixing desks, and other vital improvements to create a better learning environment).</p>
                <p><strong>Your donation helps cover:</strong> Flights, accommodation, meals, project supplies, and materials for the children.</p>
                <div class="mission-highlight">
                    <p><strong>"Pick A Number"</strong> to represent the donation amount that you would like to give (you can choose multiple numbers to get the sum of your choice). Afterwards, scroll to the bottom to select payment option and press "Next".</p>
                </div>
            </div>
        </div>

        <div class="admin-panel" id="adminPanel" style="display: none;">
            <button class="admin-toggle" onclick="toggleAdmin()">
                <i class="fas fa-tools"></i> Admin Panel
            </button>
            <div class="admin-content" id="adminContent">
                <h3><i class="fas fa-user-shield"></i> Admin Dashboard - Lawanda</h3>
                
                <!-- Admin Authentication -->
                <div class="auth-form" id="authForm">
                    <h4><i class="fas fa-lock"></i> Admin Authentication Required</h4>
                    <div class="form-group">
                        <label><i class="fas fa-key"></i> Admin Password:</label>
                        <input type="password" id="adminPassword" placeholder="Enter admin password">
                        <button onclick="authenticateAdmin()" style="margin-top: 15px; padding: 12px; background: var(--secondary); color: white; border: none; border-radius: 8px; width: 100%; font-weight: 600;">
                            <i class="fas fa-unlock-alt"></i> Unlock Admin Panel
                        </button>
                    </div>
                    <div id="authError" class="status-indicator status-error" style="display: none;"></div>
                </div>

                <div id="adminDashboard" style="display: none;">
                    <div class="form-group">
                        <label><i class="fas fa-chart-line"></i> Stats</label>
                        <p><strong><i class="fas fa-donate"></i> Total Donations:</strong> <span id="donationCount">0</span></p>
                        <p><strong><i class="fas fa-money-bill-wave"></i> Total Raised:</strong> $<span id="totalRaised">0</span></p>
                        <p><strong><i class="fas fa-clock"></i> Last Updated:</strong> <span id="lastUpdated">Never</span></p>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-user-edit"></i> Update Your Bio</label>
                        <textarea id="bioText" maxlength="500">I'm passionate about serving others and making a difference in the lives of children. This Tanzania mission is close to my heart!</textarea>
                        <button onclick="updateBio()" style="margin-top: 15px; padding: 12px; background: var(--primary); color: white; border: none; border-radius: 8px; font-weight: 600;">
                            <i class="fas fa-sync-alt"></i> Update Bio
                        </button>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-tags"></i> Mark Numbers as Donated</label>
                        <input type="text" id="manualNumbers" placeholder="Enter numbers separated by commas (e.g., 9,15,23)" style="margin-bottom: 15px;" maxlength="200">
                        <button onclick="markNumbersAsDonated()" style="padding: 12px; background: var(--secondary-dark); color: white; border: none; border-radius: 8px; width: 100%; font-weight: 600;">
                            <i class="fas fa-check-circle"></i> Mark as Donated
                        </button>
                    </div>

                    <div class="admin-actions">
                        <button class="admin-btn download-btn" onclick="downloadDonorData()">
                            <i class="fas fa-download"></i> Download CSV
                        </button>
                        <button class="admin-btn reset-btn" onclick="resetAllData()">
                            <i class="fas fa-trash-alt"></i> Reset Data
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="fundraiser-card" id="fundraiserCard">
            <div class="fundraiser-header">
                <div class="fundraiser-name">Lawanda</div>
                <div class="fundraiser-bio" id="bioDisplay">I'm passionate about serving others and making a difference in the lives of children. This Tanzania mission is close to my heart!</div>
            </div>
            
            <div class="progress-section">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
                <div class="progress-text" id="progressText">$0 / $3,500</div>
                <div class="progress-percentage" id="progressPercentage">0% to goal</div>
            </div>
            
            <div class="number-grid" id="numberGrid">
                <!-- Numbers 1-80 will be generated here -->
            </div>
            
            <div class="donation-summary" id="donationSummary">
                <h3>Selected Amount: $0</h3>
            </div>
            
            <div class="payment-methods">
                <div class="payment-btn" onclick="openVenmo('https://venmo.com/ADJones1')">
                    <i class="fab fa-vimeo-v fa-2x"></i>
                    üíú Venmo 
                </div>
                <div class="payment-btn" onclick="openCashApp('https://cash.app/$VetCoach')">
                    <i class="fas fa-dollar-sign fa-2x"></i>
                    üíö CashApp
                </div>
                <div class="payment-btn" onclick="openPayPal('https://www.paypal.com/donate/?hosted_button_id=SKVSD3FNPFCAG')">
                    <i class="fab fa-paypal fa-2x"></i>
                   üíô PayPal
                </div>
                <div class="payment-btn" onclick="selectPayment('zelle')">
                    <i class="fas fa-money-check-alt fa-2x"></i>
                    <span>Zelle<br>512-585-4106</span>
                </div>
            </div>
            
            <button class="donate-btn" onclick="processDonation()" disabled id="donateBtn">
                <i class="fas fa-arrow-right"></i> Next Step
            </button>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2><i class="fas fa-credit-card"></i> Complete Your Donation</h2>
            <div id="paymentInfo"></div>
            
            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: left;">
                <h4 style="margin-bottom: 15px; text-align: center; color: var(--primary);"><i class="fas fa-user-circle"></i> Donor Information</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: bold;"><i class="fas fa-user"></i> Full Name *</label>
                        <input type="text" id="donorName" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;" maxlength="100">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 5px; font-weight: bold;"><i class="fas fa-phone"></i> Phone Number *</label>
                        <input type="tel" id="donorPhone" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;" maxlength="20">
                    </div>
                </div>
                <div>
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;"><i class="fas fa-map-marker-alt"></i> Mailing Address *</label>
                    <textarea id="donorAddress" required rows="3" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;" placeholder="Street Address, City, State, ZIP" maxlength="300"></textarea>
                </div>
            </div>
            
            <p style="margin-top: 20px; color: #666; font-size: 0.95rem;">
                <i class="fas fa-info-circle"></i> After sending payment and filling out your information, click the button below.
            </p>
            <button onclick="confirmDonation()" id="confirmBtn" style="padding: 15px 30px; background: var(--success); color: white; border: none; border-radius: 10px; font-size: 1.1rem; cursor: pointer; margin-top: 20px; font-weight: 600; transition: var(--transition);">
                <i class="fas fa-paper-plane"></i> I've Sent Payment
            </button>
        </div>
    </div>

    <script>
        // Security Configuration
        const ADMIN_PASSWORD = 'lawanda2024'; // Admin password
        
        // Fundraiser data - stored in localStorage
        let fundraiserData = {
            name: "Lawanda",
            bio: "I'm passionate about serving others and making a difference in the lives of children. This Tanzania mission is close to my heart!",
            raised: 0,
            goal: 3500,
            donations: {},
            completed: false
        };

        let donorData = [];
        let selectedNumbers = [];
        let selectedPayment = '';
        let tapCount = 0;
        let isAuthenticated = false;

        // Load data from localStorage
        function loadData() {
            const saved = localStorage.getItem('lawanda_fundraiser_data');
            if (saved) {
                fundraiserData = JSON.parse(saved);
            }
            
            const savedDonors = localStorage.getItem('lawanda_donor_data');
            if (savedDonors) {
                donorData = JSON.parse(savedDonors);
            }
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('lawanda_fundraiser_data', JSON.stringify(fundraiserData));
            localStorage.setItem('lawanda_donor_data', JSON.stringify(donorData));
        }

        // Security Functions
        function sanitizeInput(input) {
            if (typeof input !== 'string') return '';
            return input.replace(/[<>\"'&]/g, function(match) {
                const map = {
                    '<': '&lt;',
                    '>': '&gt;',
                    '"': '&quot;',
                    "'": '&#x27;',
                    '&': '&amp;'
                };
                return map[match];
            }).trim();
        }

        function authenticateAdmin() {
            const password = document.getElementById('adminPassword').value;
            const authError = document.getElementById('authError');
            
            if (password === ADMIN_PASSWORD) {
                isAuthenticated = true;
                document.getElementById('authForm').style.display = 'none';
                document.getElementById('adminDashboard').style.display = 'block';
                document.getElementById('adminPassword').value = '';
                updateAdminStats();
            } else {
                authError.textContent = 'Invalid admin password';
                authError.style.display = 'block';
                setTimeout(() => {
                    authError.style.display = 'none';
                }, 3000);
            }
        }

        // Initialize page
        function init() {
            loadData();
            generateNumberGrid();
            updateProgress();
            updateDonationSummary();
            setupMobileAdminAccess();
        }

        function generateNumberGrid() {
            const grid = document.getElementById('numberGrid');
            grid.innerHTML = '';
            
            for (let i = 1; i <= 80; i++) {
                const button = document.createElement('div');
                button.className = 'number-button';
                button.textContent = i;
                button.title = `Donate $${i}`;
                
                if (fundraiserData.donations[i]) {
                    button.classList.add('donated');
                    button.style.pointerEvents = 'none';
                } else if (selectedNumbers.includes(i)) {
                    button.classList.add('selected');
                }
                
                button.onclick = () => toggleNumber(i);
                grid.appendChild(button);
            }
        }

        function toggleNumber(number) {
            if (fundraiserData.donations[number]) return;
            
            const index = selectedNumbers.indexOf(number);
            if (index > -1) {
                selectedNumbers.splice(index, 1);
            } else {
                selectedNumbers.push(number);
            }
            
            generateNumberGrid();
            updateDonationSummary();
        }

        function updateDonationSummary() {
            const total = selectedNumbers.reduce((sum, num) => sum + num, 0);
            document.getElementById('donationSummary').innerHTML = `<h3>Selected Amount: $${total}</h3>`;
            
            const donateBtn = document.getElementById('donateBtn');
            if (selectedNumbers.length === 0) {
                donateBtn.textContent = 'Next';
                donateBtn.disabled = true;
            } else if (!selectedPayment) {
                donateBtn.textContent = 'Next';
                donateBtn.disabled = true;
            } else {
                donateBtn.innerHTML = `<i class="fas fa-arrow-right"></i> Next ($${total})`;
                donateBtn.disabled = false;
            }
        }

        function updateProgress() {
            const percentage = Math.min((fundraiserData.raised / fundraiserData.goal) * 100, 100);
            document.getElementById('progressFill').style.width = `${percentage}%`;
            document.getElementById('progressText').textContent = `$${fundraiserData.raised} / $${fundraiserData.goal.toLocaleString()}`;
            document.getElementById('progressPercentage').textContent = `${Math.round(percentage)}% to goal`;
            
            if (isAuthenticated) {
                document.getElementById('bioDisplay').textContent = fundraiserData.bio;
                document.getElementById('bioText').value = fundraiserData.bio;
            }
            
            if (fundraiserData.raised >= fundraiserData.goal) {
                document.getElementById('fundraiserCard').classList.add('completed');
                document.getElementById('numberGrid').style.display = 'none';
                document.querySelector('.payment-methods').style.display = 'none';
                document.getElementById('donateBtn').style.display = 'none';
                document.getElementById('donationSummary').innerHTML = '<div class="success-message">üéâ Goal Reached! Thank you for helping Lawanda get to Tanzania!</div>';
            }
        }

        function selectPayment(method) {
            selectedPayment = method;
            document.querySelectorAll('.payment-btn').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            updateDonationSummary();
        }

     function openVenmo() {
    window.open('https://venmo.com/Lawanda-Jones-31', '_blank');
    selectPayment('venmo');
}

function openCashApp() {
    window.open('https://cash.app/$LawandaJones31', '_blank');
    selectPayment('cashapp');
}


        function openPayPal(url) {
            window.open(url, '_blank');
            selectPayment('paypal');
        }

        function processDonation() {
            if (selectedNumbers.length === 0 || !selectedPayment) return;
            
            const total = selectedNumbers.reduce((sum, num) => sum + num, 0);
            showPaymentModal(selectedPayment, total);
        }

        function showPaymentModal(method, amount) {
            const modal = document.getElementById('paymentModal');
            const info = document.getElementById('paymentInfo');
            
            const paymentMethods = {
                'venmo': { handle: '@Lawanda-Jones-31', name: 'Venmo' },
                'cashapp': { handle: '$Lawanda-Jones31', name: 'CashApp' },
                'paypal': { handle: 'Use PayPal link', name: 'PayPal' },
                'zelle': { handle: '512-585-4106', name: 'Zelle' }
            };
            
            const payment = paymentMethods[method];
            if (!payment) return;
            
            info.innerHTML = `
                <h3 style="margin-bottom: 20px; color: var(--primary);">Send $${amount} to Lawanda</h3>
                <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>${payment.name}:</strong> ${payment.handle}</p>
                <p style="font-size: 1.1rem;"><strong>Memo:</strong> Tanzania Mission Trip</p>
                <div style="background: #f0f7ff; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid var(--accent);">
                    <p style="font-size: 1.2rem; font-weight: 600;">Please send <strong style="color: var(--primary);">$${amount}</strong> using ${payment.name}</p>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('paymentModal').style.display = 'none';
        }

        function confirmDonation() {
            const donorName = sanitizeInput(document.getElementById('donorName').value);
            const donorPhone = sanitizeInput(document.getElementById('donorPhone').value);
            const donorAddress = sanitizeInput(document.getElementById('donorAddress').value);

            if (!donorName || !donorPhone || !donorAddress) {
                alert('Please fill out all donor information fields.');
                return;
            }

            const total = selectedNumbers.reduce((sum, num) => sum + num, 0);

            // Store locally
            selectedNumbers.forEach(num => fundraiserData.donations[num] = true);
            fundraiserData.raised += total;

            const donation = {
                amount: total,
                numbers: selectedNumbers.join(", "),
                method: selectedPayment,
                donorName,
                donorPhone,
                donorAddress,
                timestamp: Date.now(),
                date: new Date().toLocaleDateString()
            };

            // Build and submit form
            const form = document.createElement("form");
            form.action = "https://script.google.com/macros/s/AKfycbwTx3SuUKCW86vg8HSQ9YQDIzyjQMMItXfKGPlcKn_wPTwmoKVfiRg69Af1FK1_oCo6/exec";
            form.method = "POST";
            form.style.display = "none";

            for (let key in donation) {
                const input = document.createElement("input");
                input.type = "hidden";
                input.name = key;
                input.value = donation[key];
                form.appendChild(input);
            }

            document.body.appendChild(form);
            form.submit();

            // Local cleanup
            donorData.push(donation);
            saveData();
            selectedNumbers = [];
            selectedPayment = '';
            document.getElementById('donorName').value = '';
            document.getElementById('donorPhone').value = '';
            document.getElementById('donorAddress').value = '';
            closeModal();
            generateNumberGrid();
            updateProgress();
            updateDonationSummary();
        }

        // Admin Functions
        function setupMobileAdminAccess() {
            const fundraiserName = document.querySelector('.fundraiser-name');
            fundraiserName.addEventListener('click', function() {
                tapCount++;
                if (tapCount === 7) {
                    const adminPanel = document.getElementById('adminPanel');
                    adminPanel.style.display = adminPanel.style.display === 'none' ? 'block' : 'none';
                    tapCount = 0;
                    
                    this.style.color = '#e74c3c';
                    setTimeout(() => {
                        this.style.color = '';
                    }, 1000);
                }
                
                setTimeout(() => {
                    tapCount = 0;
                }, 3000);
            });
        }

        function toggleAdmin() {
            const content = document.getElementById('adminContent');
            content.classList.toggle('active');
        }

        function updateAdminStats() {
            if (!isAuthenticated) return;
            document.getElementById('donationCount').textContent = donorData.length;
            document.getElementById('totalRaised').textContent = fundraiserData.raised;
            document.getElementById('lastUpdated').textContent = new Date().toLocaleString();
        }

        function updateBio() {
            if (!isAuthenticated) return;
            
            const newBio = sanitizeInput(document.getElementById('bioText').value);
            fundraiserData.bio = newBio;
            document.getElementById('bioDisplay').textContent = newBio;
            saveData();
            
            // Show success animation
            const bioDisplay = document.getElementById('bioDisplay');
            bioDisplay.style.color = 'var(--success)';
            setTimeout(() => {
                bioDisplay.style.color = '';
            }, 2000);
        }

        function markNumbersAsDonated() {
            if (!isAuthenticated) return;
            
            const input = sanitizeInput(document.getElementById('manualNumbers').value);
            if (!input) {
                alert('Please enter at least one number.');
                return;
            }
            
            const numbers = input.split(',')
                .map(n => parseInt(n.trim()))
                .filter(n => !isNaN(n) && n >= 1 && n <= 80);
            
            if (numbers.length === 0) {
                alert('Please enter valid numbers between 1 and 80.');
                return;
            }
            
            let newlyMarked = [];
            
            numbers.forEach(num => {
                if (!fundraiserData.donations[num]) {
                    fundraiserData.donations[num] = true;
                    newlyMarked.push(num);
                }
            });
            
            if (newlyMarked.length > 0) {
                const total = newlyMarked.reduce((sum, num) => sum + num, 0);
                fundraiserData.raised += total;
                
                // Record manual entry
                const donation = {
                    amount: total,
                    numbers: newlyMarked,
                    method: 'Manual Entry (Admin)',
                    timestamp: Date.now(),
                    date: new Date().toLocaleDateString(),
                    donorName: 'Manual Entry',
                    donorPhone: 'N/A',
                    donorAddress: 'N/A'
                };
                
                donorData.push(donation);
                saveData();
                
                generateNumberGrid();
                updateProgress();
                updateAdminStats();
                
                alert(`‚úÖ Marked numbers ${newlyMarked.join(', ')} as donated!`);
            }
            
            document.getElementById('manualNumbers').value = '';
        }

        function downloadDonorData() {
            if (!isAuthenticated || donorData.length === 0) {
                alert('No donation data to download yet.');
                return;
            }
            
            const csvContent = "data:text/csv;charset=utf-8," + 
                "Fundraiser,Amount,Numbers,Payment Method,Date,Timestamp,Donor Name,Phone,Address\n" +
                donorData.map(d => `Lawanda,$${d.amount},"${d.numbers.join(';')}",${d.method},${d.date},${d.timestamp},"${d.donorName}","${d.donorPhone}","${d.donorAddress.replace(/"/g, '""')}"`).join("\n");
            
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", `lawanda_donations_${new Date().toISOString().split('T')[0]}.csv`);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function resetAllData() {
            if (!isAuthenticated) return;
            
            if (confirm('‚ö†Ô∏è This will delete ALL donation data. Are you sure?')) {
                fundraiserData = {
                    name: "Lawanda",
                    bio: "I'm passionate about serving others and making a difference in the lives of children. This Tanzania mission is close to my heart!",
                    raised: 0,
                    goal: 3500,
                    donations: {},
                    completed: false
                };
                donorData = [];
                
                saveData();
                generateNumberGrid();
                updateProgress();
                updateAdminStats();
                
                alert('‚úÖ All data has been reset.');
            }
        }

        // Keyboard shortcut for admin panel
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey && event.shiftKey && event.key === 'A') {
                const adminPanel = document.getElementById('adminPanel');
                adminPanel.style.display = adminPanel.style.display === 'none' ? 'block' : 'none';
            }
        });

        // Initialize the page
        init();
    </script>
</body>
</html>
